/*
WARNING: Do NOT edit the input and output ports in this file in a text
editor if you plan to continue editing the block that represents it in
the Block Editor! File corruption is VERY likely to occur.
*/
/*
Copyright (C) 1991-2005 Altera Corporation
Your use of Altera Corporation's design tools, logic functions 
and other software and tools, and its AMPP partner logic       
functions, and any output files any of the foregoing           
(including device programming or simulation files), and any    
associated documentation or information are expressly subject  
to the terms and conditions of the Altera Program License      
Subscription Agreement, Altera MegaCore Function License       
Agreement, or other applicable license agreement, including,   
without limitation, that your use is for the sole purpose of   
programming logic devices manufactured by Altera and sold by   
Altera or its authorized distributors.  Please refer to the    
applicable agreement for further details.
*/
(header "graphic" (version "1.3"))
(pin
	(input)
	(rect -176 208 -8 224)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "mclk" (rect 5 0 28 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
	(annotation_block (location)(rect -264 224 -176 256))
)
(pin
	(input)
	(rect -176 280 -8 296)
	(text "INPUT" (rect 133 0 161 10)(font "Arial" (font_size 6)))
	(text "reset" (rect 5 0 29 12)(font "Arial" ))
	(pt 168 8)
	(drawing
		(line (pt 92 12)(pt 117 12)(line_width 1))
		(line (pt 92 4)(pt 117 4)(line_width 1))
		(line (pt 121 8)(pt 168 8)(line_width 1))
		(line (pt 92 12)(pt 92 4)(line_width 1))
		(line (pt 117 4)(pt 121 8)(line_width 1))
		(line (pt 117 12)(pt 121 8)(line_width 1))
	)
	(text "VCC" (rect 136 7 156 17)(font "Arial" (font_size 6)))
	(annotation_block (location)(rect -264 296 -176 328))
)
(pin
	(output)
	(rect 856 544 1032 560)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "lcd_e" (rect 90 0 115 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 52 4)(pt 78 4)(line_width 1))
		(line (pt 52 12)(pt 78 12)(line_width 1))
		(line (pt 52 12)(pt 52 4)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 82 8)(pt 78 12)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
	)
	(annotation_block (location)(rect 1032 560 1128 592))
)
(pin
	(output)
	(rect 856 560 1032 576)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "lcd_rw" (rect 90 0 120 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 52 4)(pt 78 4)(line_width 1))
		(line (pt 52 12)(pt 78 12)(line_width 1))
		(line (pt 52 12)(pt 52 4)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 82 8)(pt 78 12)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
	)
	(annotation_block (location)(rect 1032 576 1120 608))
)
(pin
	(output)
	(rect 856 576 1032 592)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "lcd_rs" (rect 90 0 119 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 52 4)(pt 78 4)(line_width 1))
		(line (pt 52 12)(pt 78 12)(line_width 1))
		(line (pt 52 12)(pt 52 4)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 82 8)(pt 78 12)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
	)
	(annotation_block (location)(rect 1032 592 1120 624))
)
(pin
	(output)
	(rect 856 592 1032 608)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "data[7..0]" (rect 90 0 137 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 52 4)(pt 78 4)(line_width 1))
		(line (pt 52 12)(pt 78 12)(line_width 1))
		(line (pt 52 12)(pt 52 4)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 82 8)(pt 78 12)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
	)
	(annotation_block (location)(rect 1032 608 1128 736))
)
(pin
	(output)
	(rect 624 360 800 376)
	(text "OUTPUT" (rect 1 0 39 10)(font "Arial" (font_size 6)))
	(text "led[7..0]" (rect 90 0 130 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 52 4)(pt 78 4)(line_width 1))
		(line (pt 52 12)(pt 78 12)(line_width 1))
		(line (pt 52 12)(pt 52 4)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 82 8)(pt 78 12)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
	)
	(annotation_block (location)(rect 712 376 808 504))
)
(pin
	(bidir)
	(rect 608 264 784 280)
	(text "BIDIR" (rect 1 0 25 10)(font "Arial" (font_size 6)))
	(text "ps2_clk" (rect 90 0 127 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 56 4)(pt 78 4)(line_width 1))
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 56 12)(pt 78 12)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
		(line (pt 56 4)(pt 52 8)(line_width 1))
		(line (pt 52 8)(pt 56 12)(line_width 1))
	)
	(text "VCC" (rect 4 7 24 17)(font "Arial" (font_size 6)))
	(annotation_block (location)(rect 784 280 872 312))
)
(pin
	(bidir)
	(rect 608 280 784 296)
	(text "BIDIR" (rect 1 0 25 10)(font "Arial" (font_size 6)))
	(text "ps2_data" (rect 90 0 134 12)(font "Arial" ))
	(pt 0 8)
	(drawing
		(line (pt 56 4)(pt 78 4)(line_width 1))
		(line (pt 0 8)(pt 52 8)(line_width 1))
		(line (pt 56 12)(pt 78 12)(line_width 1))
		(line (pt 78 4)(pt 82 8)(line_width 1))
		(line (pt 78 12)(pt 82 8)(line_width 1))
		(line (pt 56 4)(pt 52 8)(line_width 1))
		(line (pt 52 8)(pt 56 12)(line_width 1))
	)
	(text "VCC" (rect 4 7 24 17)(font "Arial" (font_size 6)))
	(annotation_block (location)(rect 784 296 872 328))
)
(symbol
	(rect 104 480 200 576)
	(text "div16" (rect 5 0 32 12)(font "Arial" ))
	(text "inst" (rect 8 80 25 92)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "clk" (rect 0 0 14 12)(font "Arial" ))
		(text "clk" (rect 21 27 35 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32)(line_width 1))
	)
	(port
		(pt 0 48)
		(input)
		(text "rst" (rect 0 0 12 12)(font "Arial" ))
		(text "rst" (rect 21 43 33 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48)(line_width 1))
	)
	(port
		(pt 96 32)
		(output)
		(text "clk_16" (rect 0 0 31 12)(font "Arial" ))
		(text "clk_16" (rect 44 27 75 39)(font "Arial" ))
		(line (pt 96 32)(pt 80 32)(line_width 1))
	)
	(drawing
		(rectangle (rect 16 16 80 80)(line_width 1))
	)
)
(symbol
	(rect 104 184 200 280)
	(text "div_256" (rect 5 0 43 12)(font "Arial" ))
	(text "inst1" (rect 8 80 31 92)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "mclk" (rect 0 0 23 12)(font "Arial" ))
		(text "mclk" (rect 21 27 44 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32)(line_width 1))
	)
	(port
		(pt 0 48)
		(input)
		(text "reset" (rect 0 0 24 12)(font "Arial" ))
		(text "reset" (rect 21 43 45 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48)(line_width 1))
	)
	(port
		(pt 96 32)
		(output)
		(text "clk" (rect 0 0 14 12)(font "Arial" ))
		(text "clk" (rect 61 27 75 39)(font "Arial" ))
		(line (pt 96 32)(pt 80 32)(line_width 1))
	)
	(drawing
		(rectangle (rect 16 16 80 80)(line_width 1))
	)
)
(symbol
	(rect 320 240 568 464)
	(text "ps2_keyboard_interface" (rect 5 0 124 12)(font "Arial" ))
	(text "inst3" (rect 8 208 31 220)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "clk" (rect 0 0 14 12)(font "Arial" ))
		(text "clk" (rect 21 27 35 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32)(line_width 1))
	)
	(port
		(pt 0 48)
		(input)
		(text "reset" (rect 0 0 24 12)(font "Arial" ))
		(text "reset" (rect 21 43 45 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48)(line_width 1))
	)
	(port
		(pt 0 64)
		(input)
		(text "rx_read" (rect 0 0 36 12)(font "Arial" ))
		(text "rx_read" (rect 21 59 57 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64)(line_width 1))
	)
	(port
		(pt 0 80)
		(input)
		(text "tx_data[7..0]" (rect 0 0 62 12)(font "Arial" ))
		(text "tx_data[7..0]" (rect 21 75 83 87)(font "Arial" ))
		(line (pt 0 80)(pt 16 80)(line_width 3))
	)
	(port
		(pt 0 96)
		(input)
		(text "tx_write" (rect 0 0 37 12)(font "Arial" ))
		(text "tx_write" (rect 21 91 58 103)(font "Arial" ))
		(line (pt 0 96)(pt 16 96)(line_width 1))
	)
	(port
		(pt 248 64)
		(output)
		(text "rx_extended" (rect 0 0 60 12)(font "Arial" ))
		(text "rx_extended" (rect 167 59 227 71)(font "Arial" ))
		(line (pt 248 64)(pt 232 64)(line_width 1))
	)
	(port
		(pt 248 80)
		(output)
		(text "rx_released" (rect 0 0 56 12)(font "Arial" ))
		(text "rx_released" (rect 171 75 227 87)(font "Arial" ))
		(line (pt 248 80)(pt 232 80)(line_width 1))
	)
	(port
		(pt 248 96)
		(output)
		(text "rx_shift_key_on" (rect 0 0 80 12)(font "Arial" ))
		(text "rx_shift_key_on" (rect 147 91 227 103)(font "Arial" ))
		(line (pt 248 96)(pt 232 96)(line_width 1))
	)
	(port
		(pt 248 112)
		(output)
		(text "rx_scan_code[7..0]" (rect 0 0 94 12)(font "Arial" ))
		(text "rx_scan_code[7..0]" (rect 133 107 227 119)(font "Arial" ))
		(line (pt 248 112)(pt 232 112)(line_width 3))
	)
	(port
		(pt 248 128)
		(output)
		(text "rx_ascii[7..0]" (rect 0 0 63 12)(font "Arial" ))
		(text "rx_ascii[7..0]" (rect 164 123 227 135)(font "Arial" ))
		(line (pt 248 128)(pt 232 128)(line_width 3))
	)
	(port
		(pt 248 144)
		(output)
		(text "rx_data_ready" (rect 0 0 70 12)(font "Arial" ))
		(text "rx_data_ready" (rect 157 139 227 151)(font "Arial" ))
		(line (pt 248 144)(pt 232 144)(line_width 1))
	)
	(port
		(pt 248 160)
		(output)
		(text "tx_write_ack_o" (rect 0 0 73 12)(font "Arial" ))
		(text "tx_write_ack_o" (rect 154 155 227 167)(font "Arial" ))
		(line (pt 248 160)(pt 232 160)(line_width 1))
	)
	(port
		(pt 248 176)
		(output)
		(text "tx_error_no_keyboard_ack" (rect 0 0 130 12)(font "Arial" ))
		(text "tx_error_no_keyboard_ack" (rect 97 171 227 183)(font "Arial" ))
		(line (pt 248 176)(pt 232 176)(line_width 1))
	)
	(port
		(pt 248 32)
		(bidir)
		(text "ps2_clk" (rect 0 0 37 12)(font "Arial" ))
		(text "ps2_clk" (rect 190 27 227 39)(font "Arial" ))
		(line (pt 248 32)(pt 232 32)(line_width 1))
	)
	(port
		(pt 248 48)
		(bidir)
		(text "ps2_data" (rect 0 0 44 12)(font "Arial" ))
		(text "ps2_data" (rect 183 43 227 55)(font "Arial" ))
		(line (pt 248 48)(pt 232 48)(line_width 1))
	)
	(parameter
		"TIMER_60USEC_VALUE_PP"
		"2950"
		""
	)
	(parameter
		"TIMER_60USEC_BITS_PP"
		"12"
		""
	)
	(parameter
		"TIMER_5USEC_VALUE_PP"
		"186"
		""
	)
	(parameter
		"TIMER_5USEC_BITS_PP"
		"8"
		""
	)
	(parameter
		"TRAP_SHIFT_KEYS_PP"
		"0"
		""
	)
	(parameter
		"m1_rx_clk_h"
		"1"
		""
	)
	(parameter
		"m1_rx_clk_l"
		"0"
		""
	)
	(parameter
		"m1_rx_falling_edge_marker"
		"13"
		""
	)
	(parameter
		"m1_rx_rising_edge_marker"
		"14"
		""
	)
	(parameter
		"m1_tx_force_clk_l"
		"3"
		""
	)
	(parameter
		"m1_tx_first_wait_clk_h"
		"10"
		""
	)
	(parameter
		"m1_tx_first_wait_clk_l"
		"11"
		""
	)
	(parameter
		"m1_tx_reset_timer"
		"12"
		""
	)
	(parameter
		"m1_tx_wait_clk_h"
		"2"
		""
	)
	(parameter
		"m1_tx_clk_h"
		"4"
		""
	)
	(parameter
		"m1_tx_clk_l"
		"5"
		""
	)
	(parameter
		"m1_tx_wait_keyboard_ack"
		"6"
		""
	)
	(parameter
		"m1_tx_done_recovery"
		"7"
		""
	)
	(parameter
		"m1_tx_error_no_keyboard_ack"
		"8"
		""
	)
	(parameter
		"m1_tx_rising_edge_marker"
		"9"
		""
	)
	(parameter
		"m2_rx_data_ready"
		"1"
		""
	)
	(parameter
		"m2_rx_data_ready_ack"
		"0"
		""
	)
	(drawing
		(rectangle (rect 16 16 232 208)(line_width 1))
	)
	(annotation_block (parameter)(rect 568 -88 760 240))
)
(symbol
	(rect 656 520 816 648)
	(text "lcd" (rect 5 0 19 12)(font "Arial" ))
	(text "inst2" (rect 8 112 31 124)(font "Arial" ))
	(port
		(pt 0 32)
		(input)
		(text "clk" (rect 0 0 14 12)(font "Arial" ))
		(text "clk" (rect 21 27 35 39)(font "Arial" ))
		(line (pt 0 32)(pt 16 32)(line_width 1))
	)
	(port
		(pt 0 48)
		(input)
		(text "rst" (rect 0 0 12 12)(font "Arial" ))
		(text "rst" (rect 21 43 33 55)(font "Arial" ))
		(line (pt 0 48)(pt 16 48)(line_width 1))
	)
	(port
		(pt 0 64)
		(input)
		(text "data_in[7..0]" (rect 0 0 61 12)(font "Arial" ))
		(text "data_in[7..0]" (rect 21 59 82 71)(font "Arial" ))
		(line (pt 0 64)(pt 16 64)(line_width 3))
	)
	(port
		(pt 160 32)
		(output)
		(text "lcd_e" (rect 0 0 25 12)(font "Arial" ))
		(text "lcd_e" (rect 114 27 139 39)(font "Arial" ))
		(line (pt 160 32)(pt 144 32)(line_width 1))
	)
	(port
		(pt 160 48)
		(output)
		(text "lcd_rw" (rect 0 0 30 12)(font "Arial" ))
		(text "lcd_rw" (rect 109 43 139 55)(font "Arial" ))
		(line (pt 160 48)(pt 144 48)(line_width 1))
	)
	(port
		(pt 160 64)
		(output)
		(text "lcd_rs" (rect 0 0 29 12)(font "Arial" ))
		(text "lcd_rs" (rect 110 59 139 71)(font "Arial" ))
		(line (pt 160 64)(pt 144 64)(line_width 1))
	)
	(port
		(pt 160 80)
		(output)
		(text "data[7..0]" (rect 0 0 47 12)(font "Arial" ))
		(text "data[7..0]" (rect 92 75 139 87)(font "Arial" ))
		(line (pt 160 80)(pt 144 80)(line_width 3))
	)
	(parameter
		"IDLE"
		"B\"00000000000\""
		""
	)
	(parameter
		"CLEAR"
		"B\"00000000001\""
		""
	)
	(parameter
		"RETURNCURSOR"
		"B\"00000000010\""
		""
	)
	(parameter
		"SETMODE"
		"B\"00000000100\""
		""
	)
	(parameter
		"SWITCHMODE"
		"B\"00000001000\""
		""
	)
	(parameter
		"SHIFT"
		"B\"00000010000\""
		""
	)
	(parameter
		"SETFUNCTION"
		"B\"00000100000\""
		""
	)
	(parameter
		"SETCGRAM"
		"B\"00001000000\""
		""
	)
	(parameter
		"SETDDRAM"
		"B\"00010000000\""
		""
	)
	(parameter
		"READFLAG"
		"B\"00100000000\""
		""
	)
	(parameter
		"WRITERAM"
		"B\"01000000000\""
		""
	)
	(parameter
		"READRAM"
		"B\"10000000000\""
		""
	)
	(parameter
		"cur_inc"
		"1"
		""
	)
	(parameter
		"cur_dec"
		"0"
		""
	)
	(parameter
		"cur_shift"
		"1"
		""
	)
	(parameter
		"cur_noshift"
		"0"
		""
	)
	(parameter
		"open_display"
		"1"
		""
	)
	(parameter
		"open_cur"
		"0"
		""
	)
	(parameter
		"blank_cur"
		"0"
		""
	)
	(parameter
		"shift_display"
		"1"
		""
	)
	(parameter
		"shift_cur"
		"0"
		""
	)
	(parameter
		"right_shift"
		"1"
		""
	)
	(parameter
		"left_shift"
		"0"
		""
	)
	(parameter
		"datawidth8"
		"1"
		""
	)
	(parameter
		"datawidth4"
		"0"
		""
	)
	(parameter
		"twoline"
		"1"
		""
	)
	(parameter
		"oneline"
		"0"
		""
	)
	(parameter
		"font5x10"
		"1"
		""
	)
	(parameter
		"font5x7"
		"0"
		""
	)
	(drawing
		(rectangle (rect 16 16 144 112)(line_width 1))
	)
	(annotation_block (parameter)(rect 816 96 992 520))
)
(connector
	(pt 24 216)
	(pt 24 512)
)
(connector
	(pt 104 512)
	(pt 24 512)
)
(connector
	(pt 104 232)
	(pt 64 232)
)
(connector
	(pt 64 528)
	(pt 104 528)
)
(connector
	(pt 200 216)
	(pt 264 216)
)
(connector
	(pt 264 272)
	(pt 264 216)
)
(connector
	(pt 264 272)
	(pt 320 272)
)
(connector
	(pt 64 232)
	(pt 64 288)
)
(connector
	(pt 656 552)
	(pt 352 552)
)
(connector
	(pt 352 512)
	(pt 200 512)
)
(connector
	(pt 352 512)
	(pt 352 552)
)
(connector
	(pt 64 288)
	(pt 64 528)
)
(connector
	(pt -8 216)
	(pt 24 216)
)
(connector
	(pt 24 216)
	(pt 104 216)
)
(connector
	(pt -8 288)
	(pt 64 288)
)
(connector
	(pt 64 288)
	(pt 320 288)
)
(connector
	(pt 568 272)
	(pt 608 272)
)
(connector
	(pt 568 288)
	(pt 608 288)
)
(connector
	(pt 816 552)
	(pt 856 552)
)
(connector
	(pt 816 568)
	(pt 856 568)
)
(connector
	(pt 816 584)
	(pt 856 584)
)
(connector
	(pt 816 600)
	(pt 856 600)
	(bus)
)
(connector
	(pt 600 368)
	(pt 600 584)
	(bus)
)
(connector
	(pt 600 584)
	(pt 656 584)
	(bus)
)
(connector
	(pt 568 368)
	(pt 600 368)
	(bus)
)
(connector
	(pt 600 368)
	(pt 624 368)
	(bus)
)
(connector
	(pt 568 320)
	(pt 584 320)
)
(connector
	(pt 584 320)
	(pt 584 568)
)
(connector
	(pt 584 568)
	(pt 656 568)
)
(junction (pt 64 288))
(junction (pt 24 216))
(junction (pt 600 368))
